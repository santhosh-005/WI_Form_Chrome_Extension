chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0});async function a(){try{const e=(await chrome.storage.local.get("alarmSettings")).alarmSettings||{};if(await chrome.alarms.clear("dailyReminder"),e!=null&&e.isEnabled){const[i,n]=e.time.split(":").map(Number),o=new Date,r=new Date(o);r.setHours(i,n,0,0),o>r&&r.setDate(r.getDate()+1),chrome.alarms.create("dailyReminder",{when:r.getTime(),periodInMinutes:24*60})}}catch(t){console.error("Error setting up alarm:",t)}}chrome.storage.onChanged.addListener((t,e)=>{e==="local"&&t.alarmSettings&&a()});chrome.runtime.onInstalled.addListener(a);chrome.alarms.onAlarm.addListener(t=>{const e=["Oh joy! Time for your favorite activity - filling out the WI form! ðŸŽ‰","Drop everything! Your WI form is feeling lonely and needs attention","Guess what's more exciting than coffee? Your WI form awaits! â˜•","Breaking news: Your WI form misses you desperately","Warning: Extreme form-filling excitement ahead! WI form time!","Your daily dose of bureaucratic adventure has arrived - WI form time!","Congratulations! You've won the chance to fill out another WI form!","Alert: Your WI form is having separation anxiety. Please help.","Stop whatever important thing you're doing - WI form > everything","Your WI form is throwing a tantrum. Time to give it some love!"];t.name==="dailyReminder"&&chrome.notifications.create({type:"basic",iconUrl:"icons/logo.png",title:"Form Reminder",message:e[Math.floor(Math.random()*e.length)],priority:2})});chrome.notifications.onClicked.addListener(()=>{chrome.sidePanel.open()});
